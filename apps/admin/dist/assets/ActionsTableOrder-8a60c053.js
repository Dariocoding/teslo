import{g as O,j as e,al as N,A as n,e as t,R as d,l as U,am as C,ag as E,z as g,p as k,an as y,ai as P,v as S,S as V,f as b,T as v}from"./index-2a44fdcc.js";import{t as r}from"./translate-b34db3f3.js";import{D as w,a as l}from"./DropdownItem-83b0b814.js";import{b as F}from"./index.esm-1092785b.js";const B=o=>{const{order:s,onClickUpdateOrder:i,onClickViewUser:a,onCancelOrder:c,onCompleteOrder:x}=o,m=O(),p=()=>i(s),R=()=>a(s),h=()=>I(s.idorder),j=()=>c(s),f=()=>x(s),u=()=>{m(S.editOrder.fnPath(s.idorder))};return e.jsxs(w,{classNameButton:"btn btn-dark btn-xs mr-0 mb-0",displayButton:e.jsx(N,{}),inTable:!0,children:[e.jsxs(n,{validRoles:[t.ValidRoles.ADMIN,t.ValidRoles.SUPER_USER,t.ValidRoles.SUPERVISOR,t.ValidRoles.SELLER],children:[e.jsx(d,{isTrue:i,children:e.jsxs(l,{className:"flex items-center justify-start gap-1 text-sm",onClick:p,children:[e.jsx(F,{className:"text-orange-700 text-lg -ml-1"}),r("orders.action.quickEdit")]})}),e.jsxs(n,{validRoles:[t.ValidRoles.ADMIN,t.ValidRoles.SUPER_USER,t.ValidRoles.SUPERVISOR],children:[e.jsxs(l,{className:"flex items-center justify-start gap-1 text-sm",onClick:u,children:[e.jsx(U,{className:"text-teal-700 text-xs"}),r("orders.action.editOrder")]}),e.jsx(d,{isTrue:s.status==="cancelled"&&x,children:e.jsxs(l,{className:"flex items-center justify-start gap-1.5 text-sm",onClick:f,children:[e.jsx(C,{className:"text-xs text-green-700"}),r("orders.action.completedOrder")]})})]}),e.jsx(n,{validRoles:[t.ValidRoles.ADMIN,t.ValidRoles.SUPER_USER,t.ValidRoles.SUPERVISOR,t.ValidRoles.SELLER],children:e.jsx(d,{isTrue:s.status!=="cancelled"&&c,children:e.jsxs(l,{className:"flex items-center justify-start gap-1.5 text-sm",onClick:j,children:[e.jsx(E,{className:"text-xs text-red-700"}),r("orders.action.cancelOrder")]})})})]}),e.jsx(d,{isTrue:a&&s.user,children:e.jsxs(l,{className:"flex items-center justify-start gap-1.5 text-sm",onClick:R,children:[e.jsx(g,{className:"text-xs text-blue-600"}),r("orders.action.viewUser")]})}),e.jsxs(l,{className:"flex items-center justify-start gap-1.5 text-sm",onClick:()=>m(k.invoiceOrder.fnPath(s.idorder)),children:[e.jsx(y,{className:"text-primary text-xs text-purple-600"})," ",r("orders.action.viewOrder")]}),e.jsxs(l,{className:"flex items-center justify-start gap-1.5 text-sm",onClick:h,children:[e.jsx(P,{className:"text-primary text-xs text-red-600"})," ",r("orders.action.exportOrderAsPdf")]})]})},I=async o=>{try{V();const s=await b.ordersService.exportOrderPdf(o,{responseType:"blob"}),i=window.URL.createObjectURL(new Blob([s.data])),a=document.createElement("a");a.href=i,a.setAttribute("download",`Order-${o}.pdf`),document.body.appendChild(a),a.click(),a.remove()}catch(s){console.log(s)}finally{v()}};export{B as A};

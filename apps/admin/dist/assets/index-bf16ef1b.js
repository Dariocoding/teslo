import{f as o,j as e,h as i,R as n,a4 as x,J as m,n as h,a6 as j,a7 as p,y as b,b as u,r as f,a8 as N,p as d,L as g}from"./index-3ba1a706.js";import{H as y}from"./index-a1d8defb.js";import{u as v}from"./useQueryState-40058bbe.js";import{L as k}from"./index-e32b9330.js";import{c as w}from"./capitalize-1790f93b.js";import"./formik.esm-082975a3.js";import"./react-paginate-dac8dd77.js";import"./index-afbcf810.js";import"./react-tooltip.min-e79f5625.js";/* empty css                */import{t as r}from"./translate-092d59f9.js";import{l as O}from"./BadgeStatusOrder-2a4a99b5.js";import"./index-6654b9c9.js";import"./emotion-is-prop-valid.esm-9ab032ed.js";import"./index-f98b8c3b.js";async function P(l){const{data:s}=await o.ordersService.getOrderById(l.queryKey[1]);return s}function S(l){return v(["order",l.toString()],P,[])}const I=l=>{const{order:s}=l,a=((s.subtotal||0)*(s.iva||0)/100).toFixed(2);return e.jsx("div",{className:"table-responsive my-6 shadow",children:e.jsxs("table",{className:"table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-dark",children:r("products.single")}),e.jsx("th",{className:"text-center text-dark",children:r("products.label.price")}),e.jsx("th",{className:"text-center text-dark",children:r("orders.label.qty")}),e.jsx("th",{className:"text-center text-dark",children:r("orders.label.total")})]})}),e.jsx("tbody",{children:s.detail.map((t,c)=>e.jsx(T,{item:t},c))}),e.jsxs("tfoot",{className:"text-sm",children:[e.jsxs("tr",{children:[e.jsxs("td",{colSpan:3,className:"text-right font-bold pl-2 pr-4 py-3",children:[r("orders.label.subtotal"),":"]}),e.jsx("td",{className:"px-2 py-3 text-center",children:i.format(s.subtotal||0)})]}),e.jsxs("tr",{children:[e.jsxs("td",{colSpan:3,className:"text-right font-bold pl-2 pr-4 py-3",children:["I.V.A (",s.iva,"%):"]}),e.jsx("td",{className:"px-2 py-3 text-center",children:i.format(parseFloat(a))})]}),e.jsx(n,{isTrue:s.discount,children:e.jsxs("tr",{children:[e.jsx("td",{colSpan:3,className:"text-right font-bold pl-2 pr-4 py-3",children:"Discount"}),e.jsxs("td",{className:"px-2 py-3 text-center",children:[s.discount," %"]})]})}),e.jsxs("tr",{children:[e.jsxs("td",{colSpan:3,className:"text-right font-bold pl-2 pr-4 py-3",children:[r("orders.label.total"),":"]}),e.jsx("td",{className:"px-2 py-3 text-center",children:i.format(s.total)})]})]})]})})},T=l=>{const{item:s}=l;return e.jsxs("tr",{children:[e.jsx("td",{children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{children:e.jsx("img",{src:x(s.product),alt:"",width:40,className:"mr-2"})}),s.title," ",s.size?e.jsxs("span",{className:"text-xs ml-2",children:["(",s.size,")"]}):null]})}),e.jsx("td",{className:"text-center",children:i.format(s.total)}),e.jsx("td",{className:"text-center",children:s.quantity}),e.jsx("td",{className:"text-center",children:i.format(s.total*s.quantity)})]})},F=l=>{const{order:s}=l,{configEnterprise:a}=m(),{user:t}=s;return e.jsx("div",{className:"tile",children:e.jsxs("section",{id:"sPedido",className:"text-xs",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{children:e.jsx(k,{type:"streamline"})}),e.jsxs("div",{className:"text-right w-full",children:[e.jsxs("strong",{children:[r("orders.label.dateCreated"),": "]}),h(s.dateCreated).format("DD/MM/YYYY")]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 mt-8 mb-12",children:[e.jsxs("div",{children:[r("settings.enterPriseData.title"),":",e.jsxs("address",{className:"mt-1",children:[e.jsxs(n,{isTrue:a.name,children:[e.jsx("strong",{className:"mb-2",children:a.name}),e.jsx("br",{})]}),e.jsxs(n,{isTrue:a.phone,children:[e.jsxs("strong",{children:[r("users.label.phone"),": "]})," ",a.phone,e.jsx("br",{})]}),e.jsxs(n,{isTrue:a.email,children:[e.jsxs("strong",{children:[r("users.label.email"),": "]})," ",j,e.jsx("br",{})]}),e.jsx("a",{target:"_blank",rel:"noreferrer",href:"#!",children:window.location.origin})]})]}),e.jsxs("div",{children:[r("users.customer"),":",e.jsxs("address",{className:"mt-1",children:[e.jsxs("strong",{children:[t==null?void 0:t.firstName," ",t==null?void 0:t.lastName]}),e.jsx("br",{}),e.jsxs("b",{children:[r("users.label.phone"),":"]})," ",t==null?void 0:t.phone," ",e.jsx("br",{}),e.jsxs("b",{children:[r("users.label.email"),":"]})," ",t==null?void 0:t.email," ",e.jsx("br",{})]})]}),e.jsxs("div",{children:[e.jsxs("b",{children:[r("orders.single")," #"]})," ",s.idorder," ",e.jsx("br",{}),e.jsxs("b",{children:[r("orders.label.reference"),":"]})," ",s.reference,e.jsx("br",{}),e.jsxs("b",{children:[r("orders.label.status"),":"]})," ",O()[s.status]||w(s.status)," ",e.jsx("br",{}),e.jsxs("b",{children:[r("orders.label.total"),":"]})," ",i.format(s.total),e.jsx("br",{}),e.jsx("br",{})]})]}),e.jsx(I,{order:s}),e.jsx("div",{className:"print:hidden mt-2",children:e.jsx("div",{className:"text-right",children:e.jsxs("button",{className:"btn btn-primary btn-xs",onClick:()=>window.print(),children:[e.jsx(p,{className:"mr-1.5"})," ",r("app.print")]})})})]})})},J=l=>{const s=b(),{data:a,isFetching:t,error:c}=S(s.id);return t?e.jsx(u,{loading:!0}):e.jsxs(f.Fragment,{children:[e.jsx(n,{isTrue:Object.keys(a).length,children:e.jsx(y,{title:r("orders.invoice.title"),icon:e.jsx(N,{}),to:d.orders.path,breadcrumbs:[{label:r("dashboard.title"),to:d.dashboard.path},{label:r("orders.title"),to:d.orders.path},{label:r("orders.invoice.title")}],children:e.jsx(F,{order:a})})}),e.jsx(n,{isTrue:!Object.keys(a).length&&c,children:e.jsx("div",{className:"flex items-center justify-center lg:mt-44",children:e.jsxs("div",{children:[e.jsx("img",{src:"/img/others/error.png",alt:"Error",className:"mx-auto"}),e.jsxs("div",{className:"text-center mt-4",children:[e.jsx("h5",{children:"Oops! we've not found your order"}),e.jsx("p",{children:"Please contact the admin to check out"}),e.jsx(g,{to:d.orders.path,className:"btn btn-primary w-full mt-3",children:"Go back to orders list"})]})]})})})]})};export{J as default};

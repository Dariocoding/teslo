import{q as x,j as e,f as h,Z as l}from"./index-5d060a31.js";import{B as k}from"./index-a6ad04c6.js";import{I as c}from"./index-830e2dd2.js";import{t as r}from"./translate-df1875a3.js";import{F as b,a as f}from"./formik.esm-d4024a5f.js";import{c as j,a as q}from"./index.esm-27ddb6fd.js";import"./label-4820e3e3.js";const S=i=>{const{product:t,onSuccess:o}=i,{formatMessage:p}=x(),d={title:t.title,price:t.price,stock:0},m=async s=>{try{const a=t.stock+s.stock,u=await h.productsService.updateProduct(t.id,{title:s.title,stock:a,price:s.price});o==null||o(u.data),l.success(p({id:"products.edit.success"}))}catch(a){console.log(a),l.error(a.response.data.message||a.message)}},n=j({title:q().required(r("products.error.name.required"))});return e.jsx(b,{initialValues:d,onSubmit:m,validationSchema:n,children:s=>e.jsxs(f,{children:[e.jsx(c,{label:r("products.label.name"),name:"title",required:!0,placeholder:r("products.placeholder.name")}),e.jsx(c,{type:"number",label:r("products.label.price"),name:"price",required:!0,placeholder:r("products.placeholder.price")}),e.jsx(c,{type:"number",label:r("products.label.stock"),name:"stock",required:!0,placeholder:r("products.placeholder.stock"),decimalValues:!1}),e.jsx("div",{className:"form-group",children:e.jsxs("span",{children:[e.jsx("span",{className:"font-bold text-sm",children:"Total stock:"})," ",e.jsx("span",{className:"text-xs",children:t.stock+(s.values.stock||0)})]})}),e.jsx(k,{className:"btn-primary btn-sm mb-0 mr-0",full:!0,children:r("app.save")})]})})};export{S as default};

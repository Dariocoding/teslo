import{q as S,e as F,j as e,R as d,f as M,_ as p}from"./index-2a44fdcc.js";import{B as R}from"./index-7c566a6e.js";import{I as g}from"./index-7661f2ba.js";import{S as h}from"./index-1b687f3c.js";import{c as k}from"./capitalize-1790f93b.js";import{F as E,a as I}from"./formik.esm-9f82e298.js";import{t as r}from"./translate-b34db3f3.js";import{l as O}from"./BadgeStatusOrder-f546f70b.js";import"./react-paginate-2e6e26f6.js";import"./index-b897be0f.js";import"./react-tooltip.min-0bea07f1.js";/* empty css                */import"./label-561808e2.js";import"./index.esm-15b0778f.js";import"./styled-components.browser.esm-2c93ef95.js";import"./emotion-is-prop-valid.esm-9ab032ed.js";import"./emotion-unitless.esm-475d8cc4.js";import"./index-503cc3cd.js";const L=u=>{var l,m,o,c;const{order:s,onSuccess:a,paymentMethods:n}=u,{formatMessage:x}=S(),j={reference:s.reference,status:s.status,paymentMethod:(l=s==null?void 0:s.paymentMethod)==null?void 0:l.idpaymentmethod},f=n.map(t=>({value:t.idpaymentmethod,label:t.title}));async function b(t){try{t.paymentMethod=n.find(N=>N.idpaymentmethod===t.paymentMethod);const i=await M.ordersService.updateOrder(s.idorder,t);p.success(x({id:"orders.edit.success"})),a==null||a(i.data)}catch(i){console.log(i),p.error("Error updating order")}}const y=F.ARRSTATUSORDER.filter(t=>t!=="cancelled").map(t=>({value:t,label:k(O()[t])}));return e.jsx(E,{initialValues:j,onSubmit:b,children:e.jsxs(I,{children:[e.jsx("div",{className:"",children:e.jsx("table",{className:"table",children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsxs("td",{children:[r("users.single"),":"]}),e.jsxs("td",{children:[e.jsxs(d,{isTrue:s==null?void 0:s.user,children:[e.jsxs("strong",{children:[(m=s==null?void 0:s.user)==null?void 0:m.firstName," ",(o=s==null?void 0:s.user)==null?void 0:o.lastName]})," ",e.jsx("br",{}),(c=s==null?void 0:s.user)==null?void 0:c.email]}),e.jsx(d,{isTrue:!(s!=null&&s.user),children:e.jsx("strong",{children:"-"})})]})]}),e.jsxs("tr",{children:[e.jsxs("td",{children:[r("orders.label.reference"),":"]}),e.jsx("td",{children:e.jsx(g,{className:"mb-0",name:"reference",placeholder:"Escribe la referencia de la transacci√≥n"})})]}),e.jsxs("tr",{children:[e.jsxs("td",{children:[r("orders.label.status"),":"]}),e.jsx("td",{children:e.jsx(h,{className:"my-2",name:"status",options:y,disabled:(s==null?void 0:s.status)==="cancelled",placeholder:"Select status"})})]}),e.jsxs("tr",{children:[e.jsxs("td",{children:[r("orders.label.paymentMethod"),":"]}),e.jsx("td",{children:e.jsx(h,{className:"my-2",name:"paymentMethod",options:f,disabled:(s==null?void 0:s.status)==="cancelled"})})]})]})})}),e.jsx(R,{full:!0,className:"btn-primary btn-sm mt-8",children:r("orders.edit.title")})]})})};export{L as default};

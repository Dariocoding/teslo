import{a as Q,r as K,j as J,c as ue,R as Ae}from"./index-2a44fdcc.js";import{u as Te,g as le,b as Fe}from"./formik.esm-9f82e298.js";import{L as Oe}from"./label-561808e2.js";function he(e,r){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(a[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,n=Object.getOwnPropertySymbols(e);t<n.length;t++)r.indexOf(n[t])<0&&Object.prototype.propertyIsEnumerable.call(e,n[t])&&(a[n[t]]=e[n[t]]);return a}var ee;(function(e){e.event="event",e.props="prop"})(ee||(ee={}));function q(){}function _e(e){var r,a=void 0;return function(){for(var n=[],t=arguments.length;t--;)n[t]=arguments[t];return r&&n.length===r.length&&n.every(function(i,l){return i===r[l]})||(r=n,a=e.apply(void 0,n)),a}}function re(e){return!!(e||"").match(/\d/)}function X(e){return e==null}function je(e){return typeof e=="number"&&isNaN(e)}function Se(e){return X(e)||je(e)||typeof e=="number"&&!isFinite(e)}function xe(e){return e.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")}function Le(e){switch(e){case"lakh":return/(\d+?)(?=(\d\d)+(\d)(?!\d))(\.\d+)?/g;case"wan":return/(\d)(?=(\d{4})+(?!\d))/g;case"thousand":default:return/(\d)(?=(\d{3})+(?!\d))/g}}function Me(e,r,a){var n=Le(a),t=e.search(/[1-9]/);return t=t===-1?e.length:t,e.substring(0,t)+e.substring(t,e.length).replace(n,"$1"+r)}function ke(e){var r=K.useRef(e);r.current=e;var a=K.useRef(function(){for(var n=[],t=arguments.length;t--;)n[t]=arguments[t];return r.current.apply(r,n)});return a.current}function se(e,r){r===void 0&&(r=!0);var a=e[0]==="-",n=a&&r;e=e.replace("-","");var t=e.split("."),i=t[0],l=t[1]||"";return{beforeDecimal:i,afterDecimal:l,hasNegation:a,addNegation:n}}function Pe(e){if(!e)return e;var r=e[0]==="-";r&&(e=e.substring(1,e.length));var a=e.split("."),n=a[0].replace(/^0+/,"")||"0",t=a[1]||"";return(r?"-":"")+n+(t?"."+t:"")}function pe(e,r,a){for(var n="",t=a?"0":"",i=0;i<=r-1;i++)n+=e[i]||t;return n}function ve(e,r){return Array(r+1).join(e)}function Ve(e){var r=e+"",a=r[0]==="-"?"-":"";a&&(r=r.substring(1));var n=r.split(/[eE]/g),t=n[0],i=n[1];if(i=Number(i),!i)return a+t;t=t.replace(".","");var l=1+i,h=t.length;return l<0?t="0."+ve("0",Math.abs(l))+t:l>=h?t=t+ve("0",l-h):t=(t.substring(0,l)||"0")+"."+t.substring(l),a+t}function de(e,r,a){if(["","-"].indexOf(e)!==-1)return e;var n=(e.indexOf(".")!==-1||a)&&r,t=se(e),i=t.beforeDecimal,l=t.afterDecimal,h=t.hasNegation,p=parseFloat("0."+(l||"0")),N=l.length<=r?"0."+l:p.toFixed(r),V=N.split("."),g=i.split("").reverse().reduce(function(b,w,d){return b.length>d?(Number(b[0])+Number(w)).toString()+b.substring(1,b.length):w+b},V[0]),m=pe(V[1]||"",r,a),S=h?"-":"",f=n?".":"";return""+S+g+f+m}function H(e,r){if(e.value=e.value,e!==null){if(e.createTextRange){var a=e.createTextRange();return a.move("character",r),a.select(),!0}return e.selectionStart||e.selectionStart===0?(e.focus(),e.setSelectionRange(r,r),!0):(e.focus(),!1)}}var Ne=_e(function(e,r){for(var a=0,n=0,t=e.length,i=r.length;e[a]===r[a]&&a<t;)a++;for(;e[t-1-n]===r[i-1-n]&&i-n>a&&t-n>a;)n++;return{from:{start:a,end:t-n},to:{start:a,end:i-n}}});function $e(e,r,a){return Math.min(Math.max(e,r),a)}function fe(e){return Math.max(e.selectionStart,e.selectionEnd)}function Ke(){return typeof navigator<"u"&&!(navigator.platform&&/iPhone|iPod/.test(navigator.platform))}function Ue(e){return{from:{start:0,end:0},to:{start:0,end:e.length},lastValue:""}}function We(e){var r=e.currentValue,a=e.formattedValue,n=e.currentValueIndex,t=e.formattedValueIndex;return r[n]===a[t]}function Ge(e,r,a,n,t,i,l){l===void 0&&(l=We);var h=t.findIndex(function(U){return U}),p=e.slice(0,h);!r&&!a.startsWith(p)&&(r=p,a=p+a,n=n+p.length);for(var N=a.length,V=e.length,g={},m=new Array(N),S=0;S<N;S++){m[S]=-1;for(var f=0,b=V;f<b;f++){var w=l({currentValue:a,lastValue:r,formattedValue:e,currentValueIndex:S,formattedValueIndex:f});if(w&&g[f]!==!0){m[S]=f,g[f]=!0;break}}}for(var d=n;d<N&&(m[d]===-1||!i(a[d]));)d++;var A=d===N||m[d]===-1?V:m[d];for(d=n-1;d>0&&m[d]===-1;)d--;var T=d===-1||m[d]===-1?0:m[d]+1;return T>A?A:n-T<A-n?T:A}function me(e,r,a,n){var t=e.length;if(r=$e(r,0,t),n==="left"){for(;r>=0&&!a[r];)r--;r===-1&&(r=a.indexOf(!0))}else{for(;r<=t&&!a[r];)r++;r>t&&(r=a.lastIndexOf(!0))}return r===-1&&(r=t),r}function Ze(e){for(var r=Array.from({length:e.length+1}).map(function(){return!0}),a=0,n=r.length;a<n;a++)r[a]=!!(re(e[a])||re(e[a-1]));return r}function be(e,r,a,n,t,i){i===void 0&&(i=q);var l=ke(function(f,b){var w,d;return Se(f)?(d="",w=""):typeof f=="number"||b?(d=typeof f=="number"?Ve(f):f,w=n(d)):(d=t(f,void 0),w=n(d)),{formattedValue:w,numAsString:d}}),h=K.useState(function(){return l(X(e)?r:e,a)}),p=h[0],N=h[1],V=function(f,b){f.formattedValue!==p.formattedValue&&N({formattedValue:f.formattedValue,numAsString:f.value}),i(f,b)},g=e,m=a;X(e)&&(g=p.numAsString,m=!0);var S=l(g,m);return K.useMemo(function(){N(S)},[S.formattedValue]),[p,V]}function qe(e){return e.replace(/[^0-9]/g,"")}function ze(e){return e}function He(e){var r=e.type;r===void 0&&(r="text");var a=e.displayType;a===void 0&&(a="input");var n=e.customInput,t=e.renderText,i=e.getInputRef,l=e.format;l===void 0&&(l=ze);var h=e.removeFormatting;h===void 0&&(h=qe);var p=e.defaultValue,N=e.valueIsNumericString,V=e.onValueChange,g=e.isAllowed,m=e.onChange;m===void 0&&(m=q);var S=e.onKeyDown;S===void 0&&(S=q);var f=e.onMouseUp;f===void 0&&(f=q);var b=e.onFocus;b===void 0&&(b=q);var w=e.onBlur;w===void 0&&(w=q);var d=e.value,A=e.getCaretBoundary;A===void 0&&(A=Ze);var T=e.isValidInputCharacter;T===void 0&&(T=re);var U=e.isCharacterSame,k=he(e,["type","displayType","customInput","renderText","getInputRef","format","removeFormatting","defaultValue","valueIsNumericString","onValueChange","isAllowed","onChange","onKeyDown","onMouseUp","onFocus","onBlur","value","getCaretBoundary","isValidInputCharacter","isCharacterSame"]),G=be(d,p,!!N,l,h,V),P=G[0],x=P.formattedValue,j=P.numAsString,W=G[1],L=K.useRef({formattedValue:x,numAsString:j}),Z=function(o,u){L.current={formattedValue:o.formattedValue,numAsString:o.value},W(o,u)},$=K.useState(!1),z=$[0],M=$[1],s=K.useRef(null),c=K.useRef({setCaretTimeout:null,focusTimeout:null});K.useEffect(function(){return M(!0),function(){clearTimeout(c.current.setCaretTimeout),clearTimeout(c.current.focusTimeout)}},[]);var F=l,E=function(o,u){var v=parseFloat(u);return{formattedValue:o,value:u,floatValue:isNaN(v)?void 0:v}},I=function(o,u,v){o.selectionStart===0&&o.selectionEnd===o.value.length||(H(o,u),c.current.setCaretTimeout=setTimeout(function(){o.value===v&&o.selectionStart!==o.selectionEnd&&H(o,u)},0))},B=function(o,u,v){return me(o,u,A(o),v)},_=function(o,u,v){var D=A(u),C=Ge(u,x,o,v,D,T,U);return C=me(u,C,D),C},ae=function(o){var u=o.formattedValue;u===void 0&&(u="");var v=o.input,D=o.setCaretPosition;D===void 0&&(D=!0);var C=o.source,y=o.event,R=o.numAsString,O=o.caretPos;if(v){if(O===void 0&&D){var Y=o.inputValue||v.value,oe=fe(v);v.value=u,O=_(Y,u,oe)}v.value=u,D&&O!==void 0&&I(v,O,u)}u!==x&&Z(E(u,R),{event:y,source:C})};K.useEffect(function(){var o=L.current,u=o.formattedValue,v=o.numAsString;x!==u&&(x!==j||u!==v)&&Z(E(x,j),{event:void 0,source:ee.props})},[x,j]);var ie=s.current?fe(s.current):void 0,te=typeof window<"u"?K.useLayoutEffect:K.useEffect;te(function(){var o=s.current;if(x!==L.current.formattedValue&&o){var u=_(L.current.formattedValue,x,ie);o.value=x,I(o,u,x)}},[x]);var ye=function(o,u,v){var D=Ne(x,o),C=Object.assign(Object.assign({},D),{lastValue:x}),y=h(o,C),R=F(y);if(y=h(R,void 0),g&&!g(E(R,y))){var O=u.target,Y=fe(O),oe=_(o,x,Y);return O.value=x,I(O,oe,x),!1}return ae({formattedValue:R,numAsString:y,inputValue:o,event:u,source:v,setCaretPosition:!0,input:u.target}),!0},we=function(o){var u=o.target,v=u.value,D=ye(v,o,ee.event);D&&m(o)},Ie=function(o){var u=o.target,v=o.key,D=u.selectionStart,C=u.selectionEnd,y=u.value;y===void 0&&(y="");var R;if(v==="ArrowLeft"||v==="Backspace"?R=Math.max(D-1,0):v==="ArrowRight"?R=Math.min(D+1,y.length):v==="Delete"&&(R=D),R===void 0||D!==C){S(o);return}var O=R;if(v==="ArrowLeft"||v==="ArrowRight"){var Y=v==="ArrowLeft"?"left":"right";O=B(y,R,Y),O!==R&&o.preventDefault()}else v==="Delete"&&!T(y[R])?O=B(y,R,"right"):v==="Backspace"&&!T(y[R])&&(O=B(y,R,"left"));O!==R&&I(u,O,y),o.isUnitTestRun&&I(u,O,y),S(o)},De=function(o){var u=o.target,v=u.selectionStart,D=u.selectionEnd,C=u.value;if(C===void 0&&(C=""),v===D){var y=B(C,v);y!==v&&I(u,y,C)}f(o)},Ce=function(o){o.persist&&o.persist();var u=o.target;s.current=u,c.current.focusTimeout=setTimeout(function(){var v=u.selectionStart,D=u.selectionEnd,C=u.value;C===void 0&&(C="");var y=B(C,v);y!==v&&!(v===0&&D===C.length)&&I(u,y,C),b(o)},0)},Ee=function(o){s.current=null,clearTimeout(c.current.focusTimeout),clearTimeout(c.current.setCaretTimeout),w(o)},Be=z&&Ke()?"numeric":void 0,ce=Object.assign({inputMode:Be},k,{type:r,value:x,onChange:we,onKeyDown:Ie,onMouseUp:De,onFocus:Ce,onBlur:Ee});if(a==="text")return t?Q.createElement(Q.Fragment,null,t(x,k)||null):Q.createElement("span",Object.assign({},k,{ref:i}),x);if(n){var Re=n;return Q.createElement(Re,Object.assign({},ce,{ref:i}))}return Q.createElement("input",Object.assign({},ce,{ref:i}))}function ge(e,r){var a=r.decimalScale,n=r.fixedDecimalScale,t=r.prefix;t===void 0&&(t="");var i=r.suffix;i===void 0&&(i="");var l=r.allowNegative,h=r.thousandsGroupStyle;if(h===void 0&&(h="thousand"),e===""||e==="-")return e;var p=ne(r),N=p.thousandSeparator,V=p.decimalSeparator,g=a!==0&&e.indexOf(".")!==-1||a&&n,m=se(e,l),S=m.beforeDecimal,f=m.afterDecimal,b=m.addNegation;return a!==void 0&&(f=pe(f,a,!!n)),N&&(S=Me(S,N,h)),t&&(S=t+S),i&&(f=f+i),b&&(S="-"+S),e=S+(g&&V||"")+f,e}function ne(e){var r=e.decimalSeparator;r===void 0&&(r=".");var a=e.thousandSeparator,n=e.allowedDecimalSeparators;return a===!0&&(a=","),n||(n=[r,"."]),{decimalSeparator:r,thousandSeparator:a,allowedDecimalSeparators:n}}function Je(e,r){e===void 0&&(e="");var a=new RegExp("(-)"),n=new RegExp("(-)(.)*(-)"),t=a.test(e),i=n.test(e);return e=e.replace(/-/g,""),t&&!i&&r&&(e="-"+e),e}function Qe(e,r){return new RegExp("(^-)|[0-9]|"+xe(e),r?"g":void 0)}function Xe(e,r,a){return e===""?!0:!(r!=null&&r.match(/\d/))&&!(a!=null&&a.match(/\d/))&&typeof e=="string"&&!isNaN(Number(e))}function Ye(e,r,a){var n;r===void 0&&(r=Ue(e));var t=a.allowNegative,i=a.prefix;i===void 0&&(i="");var l=a.suffix;l===void 0&&(l="");var h=a.decimalScale,p=r.from,N=r.to,V=N.start,g=N.end,m=ne(a),S=m.allowedDecimalSeparators,f=m.decimalSeparator,b=e[g]===f;if(re(e)&&(e===i||e===l)&&r.lastValue==="")return e;if(g-V===1&&S.indexOf(e[V])!==-1){var w=h===0?"":f;e=e.substring(0,V)+w+e.substring(V+1,e.length)}var d=function(c,F,E){var I=!1,B=!1;i.startsWith("-")?I=!1:c.startsWith("--")?(I=!1,B=!0):l.startsWith("-")&&c.length===l.length?I=!1:c[0]==="-"&&(I=!0);var _=I?1:0;return B&&(_=2),_&&(c=c.substring(_),F-=_,E-=_),{value:c,start:F,end:E,hasNegation:I}},A=d(e,V,g),T=A.hasNegation;n=A,e=n.value,V=n.start,g=n.end;var U=d(r.lastValue,p.start,p.end),k=U.start,G=U.end,P=U.value,x=e.substring(V,g);e.length&&P.length&&(k>P.length-l.length||G<i.length)&&!(x&&l.startsWith(x))&&(e=P);var j=0;e.startsWith(i)?j+=i.length:V<i.length&&(j=V),e=e.substring(j),g-=j;var W=e.length,L=e.length-l.length;e.endsWith(l)?W=L:(g>L||g>e.length-l.length)&&(W=g),e=e.substring(0,W),e=Je(T?"-"+e:e,t),e=(e.match(Qe(f,!0))||[]).join("");var Z=e.indexOf(f);e=e.replace(new RegExp(xe(f),"g"),function(c,F){return F===Z?".":""});var $=se(e,t),z=$.beforeDecimal,M=$.afterDecimal,s=$.addNegation;return N.end-N.start<p.end-p.start&&z===""&&b&&!parseFloat(M)&&(e=s?"-":""),e}function er(e,r){var a=r.prefix;a===void 0&&(a="");var n=r.suffix;n===void 0&&(n="");var t=Array.from({length:e.length+1}).map(function(){return!0}),i=e[0]==="-";t.fill(!1,0,a.length+(i?1:0));var l=e.length;return t.fill(!1,l-n.length+1,l+1),t}function rr(e){var r=ne(e),a=r.thousandSeparator,n=r.decimalSeparator,t=e.prefix;t===void 0&&(t="");var i=e.allowNegative;if(i===void 0&&(i=!0),a===n)throw new Error(`
        Decimal separator can't be same as thousand separator.
        thousandSeparator: `+a+` (thousandSeparator = {true} is same as thousandSeparator = ",")
        decimalSeparator: `+n+` (default value for decimalSeparator is .)
     `);return t.startsWith("-")&&i&&(console.error(`
      Prefix can't start with '-' when allowNegative is true.
      prefix: `+t+`
      allowNegative: `+i+`
    `),i=!1),Object.assign(Object.assign({},e),{allowNegative:i})}function ar(e){e=rr(e),e.decimalSeparator,e.allowedDecimalSeparators,e.thousandsGroupStyle;var r=e.suffix,a=e.allowNegative,n=e.allowLeadingZeros,t=e.onKeyDown;t===void 0&&(t=q);var i=e.onBlur;i===void 0&&(i=q);var l=e.thousandSeparator,h=e.decimalScale,p=e.fixedDecimalScale,N=e.prefix;N===void 0&&(N="");var V=e.defaultValue,g=e.value,m=e.valueIsNumericString,S=e.onValueChange,f=he(e,["decimalSeparator","allowedDecimalSeparators","thousandsGroupStyle","suffix","allowNegative","allowLeadingZeros","onKeyDown","onBlur","thousandSeparator","decimalScale","fixedDecimalScale","prefix","defaultValue","value","valueIsNumericString","onValueChange"]),b=ne(e),w=b.decimalSeparator,d=b.allowedDecimalSeparators,A=function(s){return ge(s,e)},T=function(s,c){return Ye(s,c,e)},U=X(g)?V:g,k=m??Xe(U,N,r);X(g)?X(V)||(k=m||typeof V=="number"):k=m||typeof g=="number";var G=function(s){return Se(s)?s:(typeof s=="number"&&(s=Ve(s)),k&&typeof h=="number"?de(s,h,!!p):s)},P=be(G(g),G(V),!!k,A,T,S),x=P[0],j=x.numAsString,W=x.formattedValue,L=P[1],Z=function(s){var c=s.target,F=s.key,E=c.selectionStart,I=c.selectionEnd,B=c.value;if(B===void 0&&(B=""),E!==I){t(s);return}F==="Backspace"&&B[0]==="-"&&E===N.length+1&&a&&H(c,1),F==="Backspace"&&B[E-1]===w&&h&&p&&(H(c,E-1),s.preventDefault()),d!=null&&d.includes(F)&&B[E]===w&&H(c,E+1);var _=l===!0?",":l;F==="Backspace"&&B[E-1]===_&&H(c,E-1),F==="Delete"&&B[E]===_&&H(c,E+1),t(s)},$=function(s){var c=j;if(c.match(/\d/g)||(c=""),n||(c=Pe(c)),p&&h&&(c=de(c,h,p)),c!==j){var F=ge(c,e);L({formattedValue:F,value:c,floatValue:parseFloat(c)},{event:s,source:ee.event})}i(s)},z=function(s){return s===w?!0:re(s)},M=function(s){var c=s.currentValue,F=s.lastValue,E=s.formattedValue,I=s.currentValueIndex,B=s.formattedValueIndex,_=c[I],ae=E[B],ie=Ne(F,c),te=ie.to;return I>=te.start&&I<te.end&&d&&d.includes(_)&&ae===w?!0:_===ae};return Object.assign(Object.assign({},f),{value:W,valueIsNumericString:!1,isValidInputCharacter:z,isCharacterSame:M,onValueChange:L,format:A,removeFormatting:T,getCaretBoundary:function(s){return er(s,e)},onKeyDown:Z,onBlur:$})}function tr(e){var r=ar(e);return Q.createElement(He,Object.assign({},r))}const ur=e=>{const{type:r="text",label:a,className:n,autoComplete:t="on",name:i,classNameLabel:l,classNameInput:h,disabled:p,placeholder:N,required:V,showError:g=!0,showSuccess:m=!0,forceErrorMessage:S,decimalValues:f=!0,onFocus:b=()=>null,onBlur:w=()=>null,onChange:d,allowNegative:A=!1,decimalScale:T=3}=e,{errors:U,values:k,touched:G,setFieldValue:P,handleBlur:x}=Te(),j=r==="number",W=le(k,i),L=le(U,i),Z=le(G,i),$=L&&Z&&g||!!S,z=!L&&Z&&m&&!$;return J.jsxs("div",{className:ue("form-group",$?"form-group-error":null,z?"form-group-success":null,n),children:[J.jsx(Oe,{htmlFor:i,required:V,className:l,children:a}),j?J.jsx(tr,{value:W,thousandSeparator:".",decimalSeparator:",",onValueChange:M=>P(i,M.floatValue),prefix:f?"$ ":"",onBlur:M=>x(M),onFocus:b,className:ue("form-control",h),disabled:p,autoComplete:t,placeholder:N,name:i,id:i,allowNegative:A,decimalScale:T}):J.jsx(Fe,{type:r,className:ue("form-control",h),disabled:p,autoComplete:t,placeholder:N,name:i,id:i,value:W||"",onBlur:M=>{x(M),w()},onFocus:b,onChange:M=>{d==null||d(),P(i,M.target.value)}}),J.jsx(Ae,{isTrue:$,children:J.jsx("p",{children:L||S})})]})};export{ur as I,tr as N};

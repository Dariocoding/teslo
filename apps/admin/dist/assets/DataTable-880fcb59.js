import{j as e,U as E,V as F,R as x,d as M,r as o,c as P}from"./index-5d060a31.js";import{g as w}from"./formik.esm-d4024a5f.js";import{R as q}from"./react-paginate-3ebe4213.js";import{u as Q}from"./useMedia-235a01df.js";const U=a=>{const{itemsPerPage:t,items:l,setItemOffset:d,setPage:c}=a,u=i=>{const f=i.selected*t%l.length;d(f),c(i.selected)};return e.jsx(q,{nextLabel:e.jsx(E,{}),onPageChange:u,pageRangeDisplayed:1,pageCount:a.pageCount,previousLabel:e.jsx(F,{}),renderOnZeroPageCount:null,pageClassName:"",pageLinkClassName:"btn btn-outline-primary btn-xs",previousClassName:"",previousLinkClassName:"btn btn-primary btn-xs px-2",nextClassName:"",nextLinkClassName:"btn btn-primary btn-xs px-2",breakLabel:"...",breakClassName:"btn btn-xs btn-outline-primary",breakLinkClassName:"",containerClassName:"flex justify-center items-center",activeClassName:"",activeLinkClassName:"btn btn-primary btn-xs",forcePage:a.page})},V=a=>{const{setQ:t,q:l,showSearch:d=!0,buttons:c,showAll:u}=a;return e.jsx(x,{isTrue:d||c,children:e.jsxs("div",{className:"flex lg:justify-between lg:items-center justify-center lg:flex-row flex-col text-center mb-4",children:[e.jsx("div",{className:"w-full",children:c}),e.jsx(x,{isTrue:d,children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",className:"form-control pr-7 form-control-sm",placeholder:"Search...",autoComplete:"off",value:l,disabled:u,onChange:i=>t(i.target.value)}),e.jsx("span",{className:"absolute right-2.5 top-2.5 text-sm",children:e.jsx(M,{})})]})})]})})};function J(a){const{data:t,loading:l,showPagination:d=!0,heading:c,showResponsive:u=!0,showAll:i=!1,onChangePage:f,render:C,itemsPerPage:h=10}=a,k=Q("(max-width: 768px)"),[y,S]=o.useState(""),[v,I]=o.useState(t),[T,D]=o.useState(0),[g,L]=o.useState(0),[O,R]=o.useState(0);o.useEffect(()=>{(()=>{if(i){I(t);return}const m=g+h,s=A(t),r=Math.ceil(s.length/h),b=s.slice(g,m),p=r?O+1:0;if(I(b),D(r),p>r){const N=(r-1)*h%t.length;L(N),R(r-1)}})()},[g,t,y,i]),o.useEffect(()=>{f==null||f()},[g]);function A(n){const m=n[0]&&Object.keys(n[0]);return n.filter(s=>m.some(r=>{var b,p,N;return((N=(p=(b=w(s,r))==null?void 0:b.toString())==null?void 0:p.toLowerCase())==null?void 0:N.indexOf(y.toLowerCase().trim()))>-1}))}const j=o.useMemo(()=>C?C(v):v,[v,C]);return e.jsxs("div",{children:[e.jsx(V,{q:y,setQ:S,...a}),e.jsx(x,{isTrue:l,children:a.placeholder}),e.jsx(x,{isTrue:!l&&!k,children:e.jsx("div",{className:P(u?"table-responsive":"overflow-x-auto"),children:e.jsxs("table",{className:"table",children:[e.jsx("thead",{children:e.jsx("tr",{children:c.map(n=>e.jsx(Z,{heading:n,currentItems:j},n.field))})}),e.jsx("tbody",{children:j.map((n,m)=>e.jsx("tr",{children:c.map((s,r)=>e.jsx("td",{className:P(s.center&&"text-center"),children:w(n,s.field)},r))},m))})]})})}),e.jsx(x,{isTrue:!l&&k,children:e.jsx("div",{children:j.map((n,m)=>e.jsxs("span",{children:[c.map((s,r)=>e.jsxs("div",{className:"py-1 my-1",children:[e.jsxs("span",{className:"font-bold text-xs",children:[typeof s.title=="function"?s.title({currentItems:j}):s.title,":"]})," ",e.jsx("span",{className:"text-xs",children:w(n,s.field)})]},r)),e.jsx("hr",{})]},m))})}),e.jsx(x,{isTrue:!l&&d&&!i,children:e.jsxs("div",{className:"flex lg:justify-between justify-center lg:flex-row flex-col mt-4",children:[e.jsxs("small",{className:"lg:mb-0 mb-2 lg:inline block text-center",children:[e.jsx("span",{className:"font-bold",children:"Total Records:"})," ",Object.keys(t).length]}),e.jsx(U,{pageCount:T,setItemOffset:L,items:t,itemsPerPage:h,page:O,setPage:R})]})})]})}const Z=a=>{const{heading:t,currentItems:l}=a;return e.jsx("th",{className:P(t.center&&"text-center"),children:typeof t.title=="function"?t.title({currentItems:l}):t.title})};export{J as D};
